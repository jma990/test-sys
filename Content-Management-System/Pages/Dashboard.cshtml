@page
@model Content_Management_System.Pages.DashboardModel
@{
}

<!-- The Announcements -->
<h2>Announcements</h2>
@if (Model.Announcements.Any())
{
    <ul>
        @foreach (var announcement in Model.Announcements)
        {
            <li>
                <strong>@announcement.Title</strong>  
                <p>@announcement.Content</p>
                <small>
                    Posted on @announcement.CreatedAt.ToString("MMMM dd, yyyy") 
                    by @announcement.Author?.FirstName @announcement.Author?.LastName
                </small>
            </li>
        }
    </ul>
}
else
{
    <p>No Announcements Found</p>
}




<!-- Add New Annoucements -->
<h3>Add New Announcement</h3>
<form method="post" asp-page-handler="AddAnnouncement">
    <div>
        <label for="title">Title</label>
        <input type="text" id="title" name="Title" placeholder="Put title here" value="@Model.Title"/>
        @Html.ValidationMessage("Title", "", new { @class = "text-danger" })
    </div>
    <div>
        <label for="content">Content</label>
        <textarea id="content" name="Content" rows="4" placeholder="Put announcement here" value="@Model.Content" ></textarea>
        @Html.ValidationMessage("Content", "", new { @class = "text-danger" })
    </div>
    <button type="submit">Add</button>
</form>

<hr />



<!-- Logout -->
<form method="post" asp-page-handler="Logout">
    <button type="submit">Logout</button>
</form>

